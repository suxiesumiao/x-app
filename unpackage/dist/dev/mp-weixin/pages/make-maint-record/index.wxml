<view class="make-maint-record padding-bottom-normal data-v-527ded9c"><u-navbar vue-id="057f722c-1" isFixed="{{true}}" borderBottom="{{false}}" backIconName="arrow-leftward" titleSize="34" customBack="{{back}}" background="{{background}}" title="维修记录表" class="data-v-527ded9c" bind:__l="__l"></u-navbar><view class="data-v-527ded9c"><nnkjc-detail-group vue-id="057f722c-2" class="data-v-527ded9c" bind:__l="__l" vue-slots="{{['default']}}"><nnkjc-detail-item vue-id="{{('057f722c-3')+','+('057f722c-2')}}" detailTitle="维修类型" align="left" gap="{{false}}" class="data-v-527ded9c" bind:__l="__l" vue-slots="{{['content']}}"><view slot="content" class="data-v-527ded9c"><block wx:if="{{!mainted}}"><view class="data-v-527ded9c"><u-radio-group bind:change="__e" bind:input="__e" vue-id="{{('057f722c-4')+','+('057f722c-3')}}" value="{{form.assetFlag}}" data-event-opts="{{[['^change',[['typeChange']]],['^input',[['__set_model',['$0','assetFlag','$event',[]],['form']]]]]}}" class="data-v-527ded9c" bind:__l="__l" vue-slots="{{['default']}}"><block wx:for="{{typeList}}" wx:for-item="type" wx:for-index="index" wx:key="name"><u-radio vue-id="{{('057f722c-5-'+index)+','+('057f722c-4')}}" label-size="14px" active-color="#24a27c" name="{{type.name}}" class="data-v-527ded9c" bind:__l="__l" vue-slots="{{['default']}}">{{''+type.title+''}}</u-radio></block></u-radio-group></view></block><block wx:else><view class="data-v-527ded9c"><text class="data-v-527ded9c"><text class="data-v-527ded9c">{{typeMap[form.assetFlag]}}</text></text></view></block></view></nnkjc-detail-item></nnkjc-detail-group><block wx:if="{{form.assetFlag==='1'}}"><view class="data-v-527ded9c"><nnkjc-detail-group vue-id="057f722c-6" class="data-v-527ded9c" bind:__l="__l" vue-slots="{{['default']}}"><nnkjc-detail-item vue-id="{{('057f722c-7')+','+('057f722c-6')}}" detailTitle="设备编号" align="left" class="data-v-527ded9c" bind:__l="__l" vue-slots="{{['content']}}"><view slot="content" class="data-v-527ded9c"><u-row vue-id="{{('057f722c-8')+','+('057f722c-7')}}" gutter="12" justify="space-between" class="data-v-527ded9c" bind:__l="__l" vue-slots="{{['default']}}"><u-col vue-id="{{('057f722c-9')+','+('057f722c-8')}}" span="11" class="data-v-527ded9c" bind:__l="__l" vue-slots="{{['default']}}"><u-input bind:input="__e" vue-id="{{('057f722c-10')+','+('057f722c-9')}}" disabled="{{true}}" placeholder="填写设备编号" type="text" border="{{false}}" value="{{assetAbout.code}}" data-event-opts="{{[['^input',[['__set_model',['$0','code','$event',[]],['assetAbout']]]]]}}" class="data-v-527ded9c" bind:__l="__l"></u-input></u-col><block wx:if="{{!mainted}}"><u-col vue-id="{{('057f722c-11')+','+('057f722c-8')}}" span="1" data-event-opts="{{[['^click',[['scanner']]]]}}" bind:click="__e" class="data-v-527ded9c" bind:__l="__l" vue-slots="{{['default']}}"><u-icon vue-id="{{('057f722c-12')+','+('057f722c-11')}}" name="scan" class="data-v-527ded9c" bind:__l="__l"></u-icon></u-col></block></u-row></view></nnkjc-detail-item><nnkjc-detail-item vue-id="{{('057f722c-13')+','+('057f722c-6')}}" detailTitle="设备名称" align="left" class="data-v-527ded9c" bind:__l="__l" vue-slots="{{['content']}}"><view slot="content" class="data-v-527ded9c"><u-input bind:input="__e" vue-id="{{('057f722c-14')+','+('057f722c-13')}}" disabled="{{true}}" placeholder="填写设备名称" type="text" border="{{false}}" value="{{assetAbout.name}}" data-event-opts="{{[['^input',[['__set_model',['$0','name','$event',[]],['assetAbout']]]]]}}" class="data-v-527ded9c" bind:__l="__l"></u-input></view></nnkjc-detail-item><nnkjc-detail-item vue-id="{{('057f722c-15')+','+('057f722c-6')}}" detailTitle="规格型号" align="left" class="data-v-527ded9c" bind:__l="__l" vue-slots="{{['content']}}"><view slot="content" class="data-v-527ded9c"><u-input bind:input="__e" vue-id="{{('057f722c-16')+','+('057f722c-15')}}" disabled="{{true}}" placeholder="填写规格型号" type="text" border="{{false}}" value="{{assetAbout.modelName}}" data-event-opts="{{[['^input',[['__set_model',['$0','modelName','$event',[]],['assetAbout']]]]]}}" class="data-v-527ded9c" bind:__l="__l"></u-input></view></nnkjc-detail-item><nnkjc-detail-item vue-id="{{('057f722c-17')+','+('057f722c-6')}}" detailTitle="设备房" align="left" gap="{{false}}" class="data-v-527ded9c" bind:__l="__l" vue-slots="{{['content']}}"><view slot="content" class="data-v-527ded9c"><u-input bind:input="__e" vue-id="{{('057f722c-18')+','+('057f722c-17')}}" disabled="{{true}}" placeholder="填写设备房" type="text" border="{{false}}" value="{{assetAbout.installPos}}" data-event-opts="{{[['^input',[['__set_model',['$0','installPos','$event',[]],['assetAbout']]]]]}}" class="data-v-527ded9c" bind:__l="__l"></u-input></view></nnkjc-detail-item></nnkjc-detail-group></view></block><nnkjc-detail-group vue-id="057f722c-19" class="data-v-527ded9c" bind:__l="__l" vue-slots="{{['default']}}"><nnkjc-detail-item vue-id="{{('057f722c-20')+','+('057f722c-19')}}" detailTitle="维修处理" align="left" gap="{{false}}" class="data-v-527ded9c" bind:__l="__l" vue-slots="{{['content']}}"><view slot="content" class="data-v-527ded9c"><block wx:if="{{!mainted}}"><view class="data-v-527ded9c"><u-radio-group bind:input="__e" vue-id="{{('057f722c-21')+','+('057f722c-20')}}" value="{{form.maintType}}" data-event-opts="{{[['^input',[['__set_model',['$0','maintType','$event',[]],['form']]]]]}}" class="data-v-527ded9c" bind:__l="__l" vue-slots="{{['default']}}"><block wx:for="{{maintTypeList}}" wx:for-item="type" wx:for-index="index" wx:key="name"><u-radio vue-id="{{('057f722c-22-'+index)+','+('057f722c-21')}}" label-size="14px" active-color="#24a27c" name="{{type.name}}" data-event-opts="{{[['^change',[['dealChange']]]]}}" bind:change="__e" class="data-v-527ded9c" bind:__l="__l" vue-slots="{{['default']}}">{{''+type.title+''}}</u-radio></block></u-radio-group></view></block><block wx:else><view class="data-v-527ded9c"><text class="data-v-527ded9c">{{maintTypeMap[form.maintType]}}</text></view></block></view></nnkjc-detail-item></nnkjc-detail-group><view class="margin-normal data-v-527ded9c"><common-header vue-id="057f722c-23" title="维修日志" class="data-v-527ded9c" bind:__l="__l" vue-slots="{{['default']}}"><block wx:if="{{mainted&&form.finishFlag==='0'}}"><view slot="operation" class="data-v-527ded9c"><view data-event-opts="{{[['tap',[['addNewRecord',['$event']]]]]}}" class="add-new data-v-527ded9c" catchtap="__e"><u-icon vue-id="{{('057f722c-24')+','+('057f722c-23')}}" name="edit-pen-fill" class="data-v-527ded9c" bind:__l="__l"></u-icon>添加</view></view></block></common-header></view><block wx:if="{{!mainted}}"><view class="data-v-527ded9c"><nnkjc-detail-group vue-id="057f722c-25" class="data-v-527ded9c" bind:__l="__l" vue-slots="{{['default']}}"><nnkjc-detail-item vue-id="{{('057f722c-26')+','+('057f722c-25')}}" detailTitle="维修日志" align="left" gap="{{false}}" class="data-v-527ded9c" bind:__l="__l" vue-slots="{{['content']}}"><view slot="content" class="data-v-527ded9c"><u-input bind:input="__e" vue-id="{{('057f722c-27')+','+('057f722c-26')}}" type="textarea" height="{{200}}" maxlength="{{500}}" placeholder="请填写维修过程以及安全措施" placeholder-style="color: #D4D4D5; line-height: 1; font-size: 14px;" value="{{form.content}}" data-event-opts="{{[['^input',[['__set_model',['$0','content','$event',[]],['form']]]]]}}" class="data-v-527ded9c" bind:__l="__l"></u-input></view></nnkjc-detail-item><view style="padding-bottom:10px;border-bottom:1px solid #f1f1f1;" class="data-v-527ded9c"><u-upload vue-id="{{('057f722c-28')+','+('057f722c-25')}}" width="100" height="100" uploadText action="{{action}}" customBtn="{{true}}" header="{{header}}" form-data="{{formData}}" file-list="{{fileList}}" data-event-opts="{{[['^onSuccess',[['onSuccess']]],['^onRemove',[['onRemove']]]]}}" bind:onSuccess="__e" bind:onRemove="__e" class="data-v-527ded9c" bind:__l="__l" vue-slots="{{['addBtn']}}"><view class="add-btn data-v-527ded9c" slot="addBtn"><u-icon vue-id="{{('057f722c-29')+','+('057f722c-28')}}" name="camera-fill" class="data-v-527ded9c" bind:__l="__l"></u-icon></view></u-upload></view><nnkjc-detail-item vue-id="{{('057f722c-30')+','+('057f722c-25')}}" detailTitle="维修结果" align="left" gap="{{false}}" class="data-v-527ded9c" bind:__l="__l" vue-slots="{{['content']}}"><view slot="content" class="data-v-527ded9c"><u-radio-group bind:input="__e" vue-id="{{('057f722c-31')+','+('057f722c-30')}}" value="{{form.finishFlag}}" data-event-opts="{{[['^input',[['__set_model',['$0','finishFlag','$event',[]],['form']]]]]}}" class="data-v-527ded9c" bind:__l="__l" vue-slots="{{['default']}}"><block wx:for="{{resultList}}" wx:for-item="res" wx:for-index="index" wx:key="name"><u-radio vue-id="{{('057f722c-32-'+index)+','+('057f722c-31')}}" label-size="14px" active-color="#24a27c" name="{{res.name}}" data-event-opts="{{[['^change',[['resultChange']]]]}}" bind:change="__e" class="data-v-527ded9c" bind:__l="__l" vue-slots="{{['default']}}">{{''+res.title+''}}</u-radio></block></u-radio-group></view></nnkjc-detail-item></nnkjc-detail-group></view></block><block wx:if="{{mainted&&maintRecord.length}}"><view class="data-v-527ded9c"><block wx:for="{{maintRecord}}" wx:for-item="record" wx:for-index="index" wx:key="id"><nnkjc-detail-group vue-id="{{'057f722c-33-'+index}}" class="data-v-527ded9c" bind:__l="__l" vue-slots="{{['default']}}"><nnkjc-detail-item vue-id="{{('057f722c-34-'+index)+','+('057f722c-33-'+index)}}" detailTitle="维修日志" align="left" gap="{{false}}" class="data-v-527ded9c" bind:__l="__l" vue-slots="{{['content']}}"><view slot="content" class="data-v-527ded9c"><text class="data-v-527ded9c">{{record.content}}</text></view></nnkjc-detail-item><view style="padding-bottom:10px;border-bottom:1px solid #f1f1f1;" class="data-v-527ded9c"><u-row vue-id="{{('057f722c-35-'+index)+','+('057f722c-33-'+index)}}" gutter="12" class="data-v-527ded9c" bind:__l="__l" vue-slots="{{['default']}}"><block wx:for="{{record.maintPicReal}}" wx:for-item="image" wx:for-index="index_" wx:key="index_"><u-col vue-id="{{('057f722c-36-'+index+'-'+index_)+','+('057f722c-35-'+index)}}" span="2" class="data-v-527ded9c" bind:__l="__l" vue-slots="{{['default']}}"><u-image vue-id="{{('057f722c-37-'+index+'-'+index_)+','+('057f722c-36-'+index+'-'+index_)}}" width="50px" height="50px" border-radius="6" src="{{image}}" data-event-opts="{{[['^click',[['doPreviewImage',['$0',index_],[[['maintRecord','id',record.id,'maintPicReal']]]]]]]}}" bind:click="__e" class="data-v-527ded9c" bind:__l="__l"></u-image></u-col></block></u-row></view><nnkjc-detail-item vue-id="{{('057f722c-38-'+index)+','+('057f722c-33-'+index)}}" detailTitle="维修时间" align="left" class="data-v-527ded9c" bind:__l="__l" vue-slots="{{['content']}}"><view slot="content" class="data-v-527ded9c"><text class="data-v-527ded9c">{{record.maintTime}}</text></view></nnkjc-detail-item><nnkjc-detail-item vue-id="{{('057f722c-39-'+index)+','+('057f722c-33-'+index)}}" detailTitle="维修人" align="left" class="data-v-527ded9c" bind:__l="__l" vue-slots="{{['content']}}"><view slot="content" class="data-v-527ded9c"><text class="data-v-527ded9c">{{record.maintStaffName}}</text></view></nnkjc-detail-item><view class="data-v-527ded9c"><block wx:if="{{mainted&&form.finishFlag==='0'}}"><u-button class="bg-white data-v-527ded9c" vue-id="{{('057f722c-40-'+index)+','+('057f722c-33-'+index)}}" ripple="{{true}}" plain="{{true}}" data-event-opts="{{[['^click',[['deleteRecord',['$0'],[[['maintRecord','id',record.id,'id']]]]]]]}}" bind:click="__e" bind:__l="__l" vue-slots="{{['default']}}"><text style="color:#fa3534;" class="data-v-527ded9c">删除</text></u-button></block></view></nnkjc-detail-group></block></view></block></view><view class="margin-normal radius-normal data-v-527ded9c"><block wx:if="{{!mainted}}"><u-button vue-id="057f722c-41" ripple="{{true}}" type="success" loading="{{loading}}" data-event-opts="{{[['^click',[['e0']]]]}}" bind:click="__e" class="data-v-527ded9c" bind:__l="__l" vue-slots="{{['default']}}">确认提交</u-button></block></view><u-toast vue-id="057f722c-42" data-ref="uToast" class="data-v-527ded9c vue-ref" bind:__l="__l"></u-toast></view>