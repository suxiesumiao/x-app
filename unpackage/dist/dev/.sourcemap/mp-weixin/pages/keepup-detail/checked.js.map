{"version":3,"sources":["uni-app:///main.js","webpack:////Applications/ Gitee/hayner-app-new/pages/keepup-detail/checked.vue?e0f1","webpack:////Applications/ Gitee/hayner-app-new/pages/keepup-detail/checked.vue?b9a4","webpack:////Applications/ Gitee/hayner-app-new/pages/keepup-detail/checked.vue?a6e9","webpack:////Applications/ Gitee/hayner-app-new/pages/keepup-detail/checked.vue?14e9","uni-app:///pages/keepup-detail/checked.vue"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,yG;AACAA,UAAU,CAACC,gBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAgI;AAChI;AAC2D;AACL;;;AAGtD;AAC0L;AAC1L,gBAAgB,oMAAU;AAC1B,EAAE,6EAAM;AACR,EAAE,8FAAM;AACR,EAAE,uGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,kGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,mNAEN;AACP,KAAK;AACL;AACA,aAAa,6MAEN;AACP,KAAK;AACL;AACA,aAAa,oPAEN;AACP,KAAK;AACL;AACA,aAAa,8OAEN;AACP,KAAK;AACL;AACA,aAAa,mNAEN;AACP,KAAK;AACL;AACA,aAAa,6MAEN;AACP,KAAK;AACL;AACA,aAAa,6MAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC/DA;AAAA;AAAA;AAAA;AAAutB,CAAgB,ouBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC4G3uB,kF;;AAEA;AACA,iBADA;AAEA,MAFA,kBAEA;AACA;AACA,oBADA;AAEA,oBAFA;AAGA;AACA,+BADA,EAHA;;AAMA,SANA;AAOA,SAPA;AAQA;AACA,eADA;AAEA,oBAFA;AAGA,oBAHA;AAIA,oBAJA;AAKA,iBALA,EARA;;AAeA;AACA,YADA;AAEA,cAFA;AAGA,gBAHA,EAfA;;AAoBA;AACA,gBADA;AAEA;AACA,gBADA,EAFA;AAIA;AACA,gBADA,EAJA;AAMA;AACA,gBADA,EANA,CApBA;;AA6BA,KA7BA;;AA+BA,GAlCA;AAmCA;AACA,WADA,qBACA;AACA;AACA,KAHA;AAIA,iBAJA,2BAIA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAVA,EAnCA;;AA+CA,QA/CA,kBA+CA,OA/CA,EA+CA;AACA;AACA;AACA;AACA,GAnDA;AAoDA,QApDA,oBAoDA;AACA;AACA,GAtDA;AAuDA;AACA,QADA,kBACA;AACA;AACA,gBADA;;AAGA,KALA;AAMA,aANA,uBAMA;AACA;AACA,UADA,CACA,6BADA,EACA,iBADA;AAEA,UAFA,CAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,yCADA;AAEA,sDAFA;AAGA,wCAHA;AAIA,uCAJA;AAKA,iEALA;;;AAQA;AACA;AACA,SArBA,MAqBA;AACA;AACA;AACA,OA3BA;AA4BA,WA5BA,CA4BA;AACA,OA7BA;AA8BA,KArCA;AAsCA,kBAtCA,4BAsCA;AACA;AACA,oCADA;;;AAIA;AACA,kDADA;;AAGA,KA9CA;AA+CA,gBA/CA,0BA+CA;AACA;AACA,oCADA;;;AAIA;AACA,oEADA;;AAGA,KAvDA,EAvDA,E","file":"pages/keepup-detail/checked.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/keepup-detail/checked.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./checked.vue?vue&type=template&id=63016acd&scoped=true&\"\nvar renderjs\nimport script from \"./checked.vue?vue&type=script&lang=js&\"\nexport * from \"./checked.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"63016acd\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/keepup-detail/checked.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./checked.vue?vue&type=template&id=63016acd&scoped=true&\"","var components\ntry {\n  components = {\n    uNavbar: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-navbar/u-navbar\" */ \"@/uview-ui/components/u-navbar/u-navbar.vue\"\n      )\n    },\n    uSteps: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-steps/u-steps\" */ \"@/uview-ui/components/u-steps/u-steps.vue\"\n      )\n    },\n    nnkjcDetailGroup: function() {\n      return import(\n        /* webpackChunkName: \"components/nnkjc-detail-group/nnkjc-detail-group\" */ \"@/components/nnkjc-detail-group/nnkjc-detail-group.vue\"\n      )\n    },\n    nnkjcDetailItem: function() {\n      return import(\n        /* webpackChunkName: \"components/nnkjc-detail-item/nnkjc-detail-item\" */ \"@/components/nnkjc-detail-item/nnkjc-detail-item.vue\"\n      )\n    },\n    uButton: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-button/u-button\" */ \"@/uview-ui/components/u-button/u-button.vue\"\n      )\n    },\n    uEmpty: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-empty/u-empty\" */ \"@/uview-ui/components/u-empty/u-empty.vue\"\n      )\n    },\n    uToast: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-toast/u-toast\" */ \"@/uview-ui/components/u-toast/u-toast.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./checked.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./checked.vue?vue&type=script&lang=js&\"","<!-- 本页面属于 保养单详情的 status === 90 91 -->\n<template>\n  <view class=\"finished padding-bottom-normal\">\n    <u-navbar\n        isFixed\n        :borderBottom=\"false\"\n        backIconName=\"arrow-leftward\"\n        titleSize=\"34\"\n        :customBack=\"back\"\n        :background=\"background\"\n        title=\"保养单详情\"></u-navbar>\n\n    <view class=\"margin-normal bg-white padding-normal radius-normal\" @click=\"foMaintProcess\">\n      <u-steps\n          mode=\"number\"\n          :active-color=\"'#24A27C'\"\n          :vice-active-color=\"detail.status === '91'? '#F4516C': '#24A27C'\"\n          :viceicon=\"detail.status === '91'? 'close': ''\"\n          :list=\"numList\"\n          :current=\"current\"></u-steps>\n    </view>\n\n    <view v-if=\"detail && !empty\">\n      <view>\n        <nnkjc-detail-group>\n          <nnkjc-detail-item\n              detailTitle=\"工单编号\"\n              :detailContent=\"detail.seqNo\"\n              :align=\"'left'\"\n          >\n          </nnkjc-detail-item>\n\n          <nnkjc-detail-item\n              detailTitle=\"创建时间\"\n              :detailContent=\"detail.createTime\"\n              :align=\"'left'\"\n          >\n          </nnkjc-detail-item>\n\n          <nnkjc-detail-item\n              detailTitle=\"最近更新\"\n              :detailContent=\"detail.updateTime\"\n              :align=\"'left'\"\n          >\n          </nnkjc-detail-item>\n\n          <nnkjc-detail-item\n              detailTitle=\"当前状态\"\n              :detailContent=\"detail.statusText\"\n              :align=\"'left'\"\n              :gap=\"false\"\n          >\n          </nnkjc-detail-item>\n\n        </nnkjc-detail-group>\n\n        <nnkjc-detail-group>\n          <nnkjc-detail-item\n              detailTitle=\"巡查地点\"\n              :detailContent=\"'配电机房'\"\n              :align=\"'left'\"\n          >\n          </nnkjc-detail-item>\n          <nnkjc-detail-item\n              detailTitle=\"保养时间\"\n              :detailContent=\"detail.cycleTypeText\"\n              :align=\"'left'\"\n          >\n          </nnkjc-detail-item>\n          <nnkjc-detail-item\n              detailTitle=\"保养内容\"\n              :align=\"'left'\"\n          >\n            <view slot=\"content\" style=\"line-height: 1.5;\">\n              <view v-for=\"(item, index) in detailContent\" :key=\"index\">\n                {{ item }}\n              </view>\n            </view>\n          </nnkjc-detail-item>\n          <nnkjc-detail-item\n              detailTitle=\"抄表人\"\n              :detailContent=\"detail.maintStaffNames\"\n              :align=\"'left'\"\n              :gap=\"false\"\n          >\n          </nnkjc-detail-item>\n        </nnkjc-detail-group>\n      </view>\n\n      <!--    查看保养记录-->\n      <view>\n\n        <view v-show=\"showBtn2\" class=\"save-tasks-inner-wrapper margin-normal radius-normal\">\n          <u-button ripple :loading=\"loading\" plain @click=\"forMaintView\">\n            <text style=\"color: #24a27c;\">查看保养记录</text>\n          </u-button>\n        </view>\n      </view>\n\n    </view>\n\n    <u-empty :show=\"empty\" text=\"暂无任务详情\" mode=\"history\"></u-empty>\n\n    <u-toast ref=\"uToast\"/>\n  </view>\n</template>\n\n<script>\n  import CONFIG from \"../../config\";\n\n  export default {\n    name: \"checked\",\n    data() {\n      return {\n        loading: false,\n        showBtn2: true,\n        background: {\n          'background': '#f2f2f8'\n        },\n        loading: false,\n        empty: false,\n        detail: {\n          seqNo: \"\",\n          createTime: \"\",\n          updateTime: \"\",\n          statusText: \"\",\n          content: \"\",\n        },\n        searchParams: {\n          id: \"\",\n          type: \"\",\n          status: \"\"\n        },\n        numList: [{\n          name: '新建'\n        }, {\n          name: '委派'\n        }, {\n          name: '维修'\n        }, {\n          name: '检定'\n        },],\n        current: 3,\n      }\n    },\n    computed: {\n      PREMISS() {\n        return this.$store.state.PREMISS\n      },\n      detailContent() {\n        if(this.detail.content) {\n          return this.detail.content.split('\\n')\n        } else {\n          return []\n        }\n      }\n    },\n    onLoad(options) {\n      this.searchParams.id = options.taskId\n      this.searchParams.status = options.status\n      this.searchParams.type = options.type\n    },\n    onShow() {\n      this.getDetail();\n    },\n    methods: {\n      back() {\n        uni.navigateBack({\n          delta: 1\n        })\n      },\n      getDetail() {\n        this.$u\n            .post(\"/maint/getBaoyangTaskDetail\", this.searchParams)\n            .then(res => {\n              if (res.data) {\n                const user = uni.getStorageSync(\"user\")\n\n                const premissObj = uni.getStorageSync(\"premissObj\")\n                this.detail = res.data;\n                if (this.detail) {\n                  this.detail.cycleTypeText = CONFIG.CYCLE_MAP[this.detail.cycleType];\n\n                  // 有查看记录的权限\n                  this.showBtn2 = !!(premissObj && premissObj[this.PREMISS.viewMaintRecord])\n\n                  const res = [{\n                    \"表单状态\": this.detail.status,\n                    \"表单 mstaffId\": this.detail.maintStaffId,\n                    \"用户 staffId\": user.staffId,\n                    \"表单类型\": this.detail.type,\n                    \"查看记录权限\": premissObj[this.PREMISS.viewMaintRecord],\n                  }];\n\n                  console.table(res);\n                }\n              } else {\n                this.empty = true;\n              }\n            })\n            .catch(err => {\n            });\n      },\n      foMaintProcess() {\n        const params = this.$u.queryParams({\n          taskId: this.searchParams.id,\n        })\n\n        uni.navigateTo({\n          url: \"/pages/maint-process/index\" + params\n        })\n      },\n      forMaintView() {\n        const params = this.$u.queryParams({\n          taskId: this.searchParams.id,\n        })\n\n        uni.navigateTo({\n          url: \"/pages/make-keepup-record/keepup-record-view\" + params\n        })\n      }\n    }\n  }\n</script>\n\n<style scoped>\n\n</style>"],"sourceRoot":""}