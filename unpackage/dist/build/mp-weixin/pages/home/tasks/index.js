(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/home/tasks/index"],{2307:function(t,e,n){},"47b2":function(t,e,n){"use strict";n.r(e);var a=n("c00f"),s=n("6c00");for(var i in s)"default"!==i&&function(t){n.d(e,t,(function(){return s[t]}))}(i);n("4ac7");var u,r=n("f0c5"),o=Object(r["a"])(s["default"],a["b"],a["c"],!1,null,"7d4e7b42",null,!1,a["a"],u);e["default"]=o.exports},4824:function(t,e,n){"use strict";(function(t){n("5d15");a(n("66fd"));var e=a(n("47b2"));function a(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},"4ac7":function(t,e,n){"use strict";var a=n("2307"),s=n.n(a);s.a},"6c00":function(t,e,n){"use strict";n.r(e);var a=n("96dc"),s=n.n(a);for(var i in a)"default"!==i&&function(t){n.d(e,t,(function(){return a[t]}))}(i);e["default"]=s.a},"96dc":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=s(n("c8f6"));function s(t){return t&&t.__esModule?t:{default:t}}function i(t){return c(t)||o(t)||r(t)||u()}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(t,e){if(t){if("string"===typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}function o(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function c(t){if(Array.isArray(t))return l(t)}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}var f={name:"tasks",data:function(){return{statusDefaultV:[0],selectingStatus:!1,selectingResult:!1,selectingDaterange:!1,empty:!1,background:{background:"#f2f2f8"},showStatus:!1,statusList:[{value:"",label:"全部"},{value:"0",label:"正常"},{value:"1",label:"异常"}],searchParams:{statusFlag:"",endDate:"",startDate:""},list:[{pageNum:1,pageSize:10,name:"巡查",type:"xuncha",empty:!1},{pageNum:1,pageSize:10,name:"保养",type:"weihu",empty:!1},{pageNum:1,pageSize:10,name:"维修",type:"weixiu",empty:!1}],taskLists:[[],[],[]],curNow:0}},onReady:function(){this.getTaskListForAll(this.curNow)},methods:{statusCancel:function(t){this.$refs["status"].selecting=!1,this.list[this.curNow].pageNum=1},statusConfirm:function(t){this.$refs["status"].selecting=!1,this.list[this.curNow].pageNum=1,this.searchParams.statusFlag=t[0].value;for(var e=0;e<this.statusList.length;e++)if(this.statusList[e].value===t[0].value){this.statusDefaultV=[e];break}this.getTaskListForAll(this.curNow)},statusEmit:function(t){this.selectingStatus=t},animationfinish:function(t){var e=t.detail.current;this.curNow=e,this.taskLists[e].length||this.getTaskListForAll(e)},transition:function(){},reachBottom:function(t){this.list[t].empty?this.$refs.uToast.show({title:"没有更多数据了~",type:"warning"}):(this.list[t].pageNum++,this.getTaskListForAll(t))},back:function(){t.navigateBack({delta:1})},sectionChange:function(t){this.curNow=t,this.taskLists[t].length||this.getTaskListForAll(t)},getTaskListForAll:function(t){var e=this,n=this.list[t],a=n.pageSize,s=n.pageNum,u=n.type,r=this.searchParams,o=r.statusFlag,c=r.endDate,l=r.startDate;this.$u.post("/maint/getMyTaskList",{pageSize:a,pageNum:s,type:u,statusFlag:o,endDate:c,startDate:l}).then((function(n){var a;n.data.rows.length>0?1===s?e.taskLists.splice(t,1,n.data.rows):(a=e.taskLists[t]).push.apply(a,i(n.data.rows)):1==s?e.taskLists.splice(t,1,[]):e.list[t].pageNum=1;e.list[t].empty=e.taskLists[t].length===n.data.total})).catch((function(t){console.log(t)}))},forTaskDetail:function(e){var n=this.$u.queryParams({taskId:e.id,status:e.status,type:e.type});t.navigateTo({url:a.default.ROUTE_MAP[e.type][e.status]+n})}}};e.default=f}).call(this,n("543d")["default"])},c00f:function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return a}));var a={uNavbar:function(){return n.e("uview-ui/components/u-navbar/u-navbar").then(n.bind(null,"11b1"))},nnkjcCapsuleSelect:function(){return n.e("components/nnkjc-capsule-select/nnkjc-capsule-select").then(n.bind(null,"2dd4"))},commonSelect:function(){return n.e("components/common-select/common-select").then(n.bind(null,"eb4a"))},uSelect:function(){return n.e("uview-ui/components/u-select/u-select").then(n.bind(null,"d67a"))},nnkjcTaskItem:function(){return n.e("components/nnkjc-task-item/nnkjc-task-item").then(n.bind(null,"d24e"))},uToast:function(){return n.e("uview-ui/components/u-toast/u-toast").then(n.bind(null,"0f55"))}},s=function(){var t=this,e=t.$createElement;t._self._c},i=[]}},[["4824","common/runtime","common/vendor"]]]);