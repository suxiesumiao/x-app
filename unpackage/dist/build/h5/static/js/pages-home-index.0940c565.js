(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-home-index"],{"03f7":function(t,e,a){var n=a("b16e");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("280829d2",n,!0,{sourceMap:!1,shadowMode:!1})},2385:function(t,e,a){"use strict";a.r(e);var n=a("5846"),i=a("38c7");for(var s in i)"default"!==s&&function(t){a.d(e,t,(function(){return i[t]}))}(s);a("3788");var o,r=a("f0c5"),c=Object(r["a"])(i["default"],n["b"],n["c"],!1,null,"4b8fe751",null,!1,n["a"],o);e["default"]=c.exports},2636:function(t,e,a){"use strict";a("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"u-empty",props:{src:{type:String,default:""},text:{type:String,default:""},color:{type:String,default:"#c0c4cc"},iconColor:{type:String,default:"#c0c4cc"},iconSize:{type:[String,Number],default:120},fontSize:{type:[String,Number],default:26},mode:{type:String,default:"data"},imgWidth:{type:[String,Number],default:120},imgHeight:{type:[String,Number],default:"auto"},show:{type:Boolean,default:!0},marginTop:{type:[String,Number],default:0},iconStyle:{type:Object,default:function(){return{}}}},data:function(){return{icons:{car:"购物车为空",page:"页面不存在",search:"没有搜索结果",address:"没有收货地址",wifi:"没有WiFi",order:"订单为空",coupon:"没有优惠券",favor:"暂无收藏",permission:"无权限",history:"无历史记录",news:"无新闻列表",message:"消息列表为空",list:"列表为空",data:"数据为空"}}}};e.default=n},3788:function(t,e,a){"use strict";var n=a("9685"),i=a.n(n);i.a},"38c7":function(t,e,a){"use strict";a.r(e);var n=a("2636"),i=a.n(n);for(var s in n)"default"!==s&&function(t){a.d(e,t,(function(){return n[t]}))}(s);e["default"]=i.a},5686:function(t,e,a){"use strict";var n=a("95d6"),i=a.n(n);i.a},5846:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return s})),a.d(e,"a",(function(){return n}));var n={uIcon:a("2bd4").default},i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.show?a("v-uni-view",{staticClass:"u-empty",style:{marginTop:t.marginTop+"rpx"}},[a("u-icon",{attrs:{name:t.src?t.src:"empty-"+t.mode,"custom-style":t.iconStyle,label:t.text?t.text:t.icons[t.mode],"label-pos":"bottom","label-color":t.color,"label-size":t.fontSize,size:t.iconSize,color:t.iconColor,"margin-top":"14"}}),a("v-uni-view",{staticClass:"u-slot-wrap"},[t._t("bottom")],2)],1):t._e()},s=[]},"620a":function(t,e,a){"use strict";(function(t){var n=a("4ea4");a("99af"),a("ac1f"),a("1276"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(a("2909")),s=n(a("c8f6")),o={data:function(){return{typeDefaultTitle:"全部类型",typeDefaultV:[0],selectingType:!1,typeList:[{value:"",label:"全部类型"},{value:"weixiu",label:"维修单"},{value:"xuncha",label:"巡查单"},{value:"weihu",label:"保养单"}],statusTagMap:s.default.statusTagMap,empty:!1,taskTitle:"工作台",staticIcon:"../../static/image/home/makeorder.png",taskLists:[],searchParams:{pageNum:1,pageSize:10,type:""},menuListsStatic:[{id:"1",name:"项目信息",href:"",func:"projectInfo",appIcon:"../../static/image/home/home.png"},{id:"2",name:"我的任务",href:"",func:"myTask",appIcon:"../../static/image/home/burger.png"},{id:"3",name:"资产查询",href:"",func:"scanner",appIcon:"../../static/image/home/scan.png"}],userData:{staffName:"",comName:""},headerAvatar:"../../static/image/home/head.png",menuLists:[]}},onLoad:function(t){},onShow:function(){this.getAPPMenuList(),this.getUserData(),this.getTaskListForAll();this.$store.state.freshTask},onReady:function(){},onHide:function(){},onUnload:function(){},onResize:function(){},onPageScroll:function(){},onPullDownRefresh:function(){this.searchParams.pageSize=10,this.searchParams.pageNum=1,this.taskLists=[],this.getTaskListForAll(),uni.stopPullDownRefresh()},onReachBottom:function(){this.searchParams.pageNum++,this.getTaskListForAll()},methods:{typeCancel:function(t){this.$refs["type"].selecting=!1},statusEmit:function(t){this.selectingType=t},typeConfirm:function(t){this.$refs["type"].selecting=!1,this.searchParams.pageNum=1,this.searchParams.type=t[0].value,this.typeDefaultTitle=t[0].label;for(var e=0;e<this.typeList.length;e++)if(this.typeList[e].value===t[0].value){this.typeDefaultV=[e];break}this.taskLists=[],this.getTaskListForAll()},forDetailPage:function(t){if(t.status&&t.type&&t.id){var e=this.$u.queryParams({taskId:t.id,status:t.status,type:t.type});uni.navigateTo({url:s.default.ROUTE_MAP[t.type][t.status]+e})}},getTaskListForAll:function(){var e=this;1===this.searchParams.pageNum&&(this.taskLists=[]),this.$u.post("/maint/getTaskList",this.searchParams).then((function(t){if(t.data.rows.length>0){for(var a,n=0;n<t.data.rows.length;n++);(a=e.taskLists).push.apply(a,(0,i.default)(t.data.rows))}else e.searchParams.pageNum;e.empty=0===e.taskLists.length})).catch((function(e){t.log(e)}))},forMenuPage:function(e){var a=this;if(e.func)switch(e.func){case"projectInfo":uni.navigateTo({url:"./project-info/index"});break;case"myTask":uni.navigateTo({url:"./tasks/index"});break;case"scanner":uni.scanCode({success:function(e){if(t.log("条码类型："+e.scanType),t.log("条码内容："+e.result),e.result){var a=e.result.split("?")[1];a&&uni.navigateTo({url:"/pages/asset-detail/index?"+a})}},fail:function(){a.$refs.uToast.show({title:"扫描失败~",type:"warning"})}});break}else if(e.href)switch(e.href){case"saveTask":uni.navigateTo({url:"./save-task/index"});break;case"saveMaintRecord":uni.navigateTo({url:"./maint-record/index"});break}},forUserCenter:function(){uni.navigateTo({url:"/pages/user/index"})},getUserData:function(){var t=uni.getStorageSync("user");t&&(this.userData=t)},getAPPMenuList:function(){var t=this,e=uni.getStorageSync("appMenuList");if(e)this.menuLists=this.menuListsStatic.concat(e);else{var a={};this.$u.post("sys/menu/getAPPMenuList",{}).then((function(e){for(var n=[],i=0;i<e.data.length;i++)"1"===e.data[i].appShowFlag&&n.push(e.data[i]),a[e.data[i].id]=!0;t.menuLists=t.menuListsStatic.concat(n),uni.setStorageSync("premissObj",a),uni.setStorageSync("appMenuList",n)}))}}}};e.default=o}).call(this,a("5a52")["default"])},7392:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return s})),a.d(e,"a",(function(){return n}));var n={commonHeader:a("8cb7").default,commonSelect:a("eb4a").default,uSelect:a("d67a").default,nnkjcTaskItem:a("d24e").default,uToast:a("0f55").default,uEmpty:a("2385").default},i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"padding-bottom-normal",attrs:{id:"home"}},[a("v-uni-view",{staticClass:"home-header margin-normal"},[a("v-uni-view",{staticClass:"header-avatar bg-white",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.forUserCenter.apply(void 0,arguments)}}},[a("v-uni-image",{staticStyle:{width:"46px",height:"46px"},attrs:{src:t.headerAvatar}})],1),a("v-uni-view",{staticClass:"header-content"},[a("v-uni-view",{staticClass:"title"},[a("v-uni-text",[t._v("欢迎，")]),a("v-uni-text",{staticStyle:{"font-weight":"bolder"}},[t._v(t._s(t.userData.staffName))])],1),a("v-uni-view",{staticClass:"sub"},[a("v-uni-text",[t._v(t._s(t.userData.comName))])],1)],1)],1),a("v-uni-view",{staticClass:"menus-wrapper"},[a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.menuLists.length,expression:"menuLists.length"}],staticClass:"menus margin-normal padding-normal radius-normal"},t._l(t.menuLists,(function(e){return a("v-uni-view",{key:e.id,staticClass:"item",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.forMenuPage(e)}}},[a("v-uni-view",{staticClass:"item-icon"},[a("v-uni-image",{staticStyle:{width:"23px",height:"23px"},attrs:{src:e.appIcon}})],1),a("v-uni-view",{staticClass:"item-name"},[a("v-uni-text",[t._v(t._s(e.name))])],1)],1)})),1)],1),a("v-uni-view",{staticClass:"task margin-normal"},[a("common-header",{attrs:{title:t.taskTitle}},[a("v-uni-view",{attrs:{slot:"operation"},slot:"operation"},[a("common-select",{ref:"type",attrs:{defaultTitle:t.typeDefaultTitle},on:{selecting:function(e){arguments[0]=e=t.$handleEvent(e),t.statusEmit.apply(void 0,arguments)}}},[a("v-uni-view",{attrs:{slot:"selectArea"},slot:"selectArea"},[a("u-select",{attrs:{title:"选择类型","default-value":t.typeDefaultV,mode:"single-column",list:t.typeList},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.typeConfirm.apply(void 0,arguments)},cancel:function(e){arguments[0]=e=t.$handleEvent(e),t.typeCancel.apply(void 0,arguments)}},model:{value:t.selectingType,callback:function(e){t.selectingType=e},expression:"selectingType"}})],1)],1)],1)],1),!t.empty&&t.taskLists.length?a("v-uni-view",{staticClass:"task-lists radius-normal bg-white task-body"},t._l(t.taskLists,(function(e,n){return a("nnkjc-task-item",{key:n,attrs:{taskTitle:e.seqNo,taskTime:e.createTime,taskContent:e.content,iconClass:e.type,taskType:e.type,statusText:e.statusText,overdueFlag:e.overdueFlag,statusFlag:e.statusFlag},on:{"single-click":function(a){arguments[0]=a=t.$handleEvent(a),t.forDetailPage(e)}}})})),1):t._e()],1),a("u-toast",{ref:"uToast"}),a("u-empty",{attrs:{show:t.empty,text:"暂无待办任务",mode:"list"}})],1)},s=[]},"80db":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"common-header",data:function(){return{}},props:{title:{type:String,required:!0}}};e.default=n},"8b9b":function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* uni.scss */.margin-normal[data-v-4b8fe751]{margin:20px}.padding-normal[data-v-4b8fe751]{padding:16px}.padding-bottom-normal[data-v-4b8fe751]{padding-bottom:20px}.radius-normal[data-v-4b8fe751]{border-radius:16px;overflow:hidden}.u-navbar-inner[data-v-4b8fe751]{background-color:#f2f2f8}.u-navbar-inner > .u-navbar-content-title[data-v-4b8fe751]{font-weight:700}.u-image__image > div[data-v-4b8fe751]{background-size:contain!important}\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.u-empty[data-v-4b8fe751]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;height:100%}.u-image[data-v-4b8fe751]{margin-bottom:%?20?%}.u-slot-wrap[data-v-4b8fe751]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin-top:%?20?%}',""]),t.exports=e},"8cb7":function(t,e,a){"use strict";a.r(e);var n=a("9e67"),i=a("968f");for(var s in i)"default"!==s&&function(t){a.d(e,t,(function(){return i[t]}))}(s);a("b757");var o,r=a("f0c5"),c=Object(r["a"])(i["default"],n["b"],n["c"],!1,null,"34a03b6a",null,!1,n["a"],o);e["default"]=c.exports},"95d6":function(t,e,a){var n=a("f645");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("6dc5516d",n,!0,{sourceMap:!1,shadowMode:!1})},9685:function(t,e,a){var n=a("8b9b");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("6a14f382",n,!0,{sourceMap:!1,shadowMode:!1})},"968f":function(t,e,a){"use strict";a.r(e);var n=a("80db"),i=a.n(n);for(var s in n)"default"!==s&&function(t){a.d(e,t,(function(){return n[t]}))}(s);e["default"]=i.a},"9e67":function(t,e,a){"use strict";var n;a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return s})),a.d(e,"a",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"common-header"},[a("v-uni-view",{staticClass:"header"},[a("v-uni-text",[t._v(t._s(t.title))])],1),a("v-uni-view",{staticClass:"content"},[t._t("operation")],2)],1)},s=[]},b16e:function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* uni.scss */.margin-normal[data-v-34a03b6a]{margin:20px}.padding-normal[data-v-34a03b6a]{padding:16px}.padding-bottom-normal[data-v-34a03b6a]{padding-bottom:20px}.radius-normal[data-v-34a03b6a]{border-radius:16px;overflow:hidden}.u-navbar-inner[data-v-34a03b6a]{background-color:#f2f2f8}.u-navbar-inner > .u-navbar-content-title[data-v-34a03b6a]{font-weight:700}.u-image__image > div[data-v-34a03b6a]{background-size:contain!important}\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.common-header[data-v-34a03b6a]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.common-header > .header[data-v-34a03b6a]{-webkit-box-flex:1;-webkit-flex-grow:1;flex-grow:1;height:26px;font-size:18px;font-weight:700;line-height:26px;color:#333}',""]),t.exports=e},b757:function(t,e,a){"use strict";var n=a("03f7"),i=a.n(n);i.a},bcee:function(t,e,a){"use strict";a.r(e);var n=a("620a"),i=a.n(n);for(var s in n)"default"!==s&&function(t){a.d(e,t,(function(){return n[t]}))}(s);e["default"]=i.a},d0eb:function(t,e,a){"use strict";a.r(e);var n=a("7392"),i=a("bcee");for(var s in i)"default"!==s&&function(t){a.d(e,t,(function(){return i[t]}))}(s);a("5686");var o,r=a("f0c5"),c=Object(r["a"])(i["default"],n["b"],n["c"],!1,null,"73afe583",null,!1,n["a"],o);e["default"]=c.exports},f645:function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* uni.scss */.margin-normal[data-v-73afe583]{margin:20px}.padding-normal[data-v-73afe583]{padding:16px}.padding-bottom-normal[data-v-73afe583]{padding-bottom:20px}.radius-normal[data-v-73afe583]{border-radius:16px;overflow:hidden}.u-navbar-inner[data-v-73afe583]{background-color:#f2f2f8}.u-navbar-inner > .u-navbar-content-title[data-v-73afe583]{font-weight:700}.u-image__image > div[data-v-73afe583]{background-size:contain!important}\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */#home[data-v-73afe583]{padding-top:70px}.home-header[data-v-73afe583]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.home-header > .header-avatar[data-v-73afe583]{width:46px;height:46px;min-width:46px;min-height:46px;-webkit-flex-basis:46px;flex-basis:46px;border-radius:50%;text-align:center;overflow:hidden}.home-header > .header-avatar > img[data-v-73afe583]{height:100%;width:100%;object-fit:contain}.home-header > .header-content[data-v-73afe583]{-webkit-box-flex:1;-webkit-flex-grow:1;flex-grow:1;padding-left:12px;text-align:left}.home-header > .header-content > .title[data-v-73afe583]{font-size:20px}.home-header > .header-content > .sub[data-v-73afe583]{color:#8a8a8e;font-size:12px}.menus[data-v-73afe583]{background:#fff;opacity:1;margin-top:0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.item[data-v-73afe583]{width:25%;display:-webkit-box;display:-webkit-flex;display:flex;margin-top:16px;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;text-align:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.item:nth-of-type(4n+1) > .item-icon[data-v-73afe583]{background-color:rgba(72,105,254,.12)}.item:nth-of-type(4n+2) > .item-icon[data-v-73afe583]{background-color:rgba(101,32,255,.12)}.item:nth-of-type(4n+3) > .item-icon[data-v-73afe583]{background-color:rgba(36,162,124,.12)}.item:nth-of-type(4n) > .item-icon[data-v-73afe583]{background-color:rgba(244,81,108,.12)}.item-icon[data-v-73afe583]{margin:0 auto;width:46px;height:46px;box-shadow:0 0 0 8px #fff,0 0 0 9px #f1f1f1;border-radius:50%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.item-icon > img[data-v-73afe583]{width:22px;height:20px}.item-icon uni-image[data-v-73afe583]{width:46px;height:46px}.item-name[data-v-73afe583]{height:20px;font-size:14px;font-weight:400;line-height:20px;color:#000;opacity:1;margin-top:20px}.task-header[data-v-73afe583]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.task-header .header[data-v-73afe583]{height:26px;font-size:18px;font-weight:700;line-height:26px;color:#333}.task-opera-icon[data-v-73afe583]{height:17px;font-size:12px;font-weight:400;color:#333}.task-lists[data-v-73afe583]{margin-top:8px}.task-list-icon uni-image[data-v-73afe583]{width:44px;height:44px}.task-sub uni-text[data-v-73afe583]{line-height:25px}.task-body[data-v-73afe583]{-webkit-box-flex:1;-webkit-flex-grow:1;flex-grow:1;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;overflow:hidden}.task-tag uni-image[data-v-73afe583]{height:20px;width:40px}.task-tag img[data-v-73afe583]{height:20px}',""]),t.exports=e}}]);